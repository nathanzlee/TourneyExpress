<!DOCTYPE html>
<html>
	<head>
		<title>Login</title>
		<link rel="stylesheet" href="/login.css">
	</head>
	<body>
		<!-- <div class="container">
			<div class="screen">
				<div class="screen__content">
					<div class="login">
						<div class="login__field">
							<svg class="login__icon" xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#6b5dd1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
							<input type="text" class="login__input" id="username" placeholder="User name / Email">
						</div>
						<div class="login__field">
							<svg class="login__icon" xmlns="http://www.w3.org/2000/svg" width="17" height="17" viewBox="0 0 24 24" fill="none" stroke="#6b5dd1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0 1 10 0v4"></path></svg>
							<input type="password" class="login__input" id="password" placeholder="Password">
						</div>
						<button class="button login__submit" id="login">
							<span class="button__text">Log In</span>
							<svg class="button__icon" xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="#6b5dd1" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18l6-6-6-6"/></svg>
						</button>				
					</div>
				</div>
				<div class="screen__background">
					<span class="screen__background__shape screen__background__shape4"></span>
					<span class="screen__background__shape screen__background__shape3"></span>		
					<span class="screen__background__shape screen__background__shape2"></span>
					<span class="screen__background__shape screen__background__shape1"></span>
				</div>		
			</div>
		</div> -->
		<div class="overlay">
			<!-- LOGN IN FORM by Omar Dsoky -->
			<form>
			   <!--   con = Container  for items in the form-->
			   <div class="con">
			   <!--     Start  header Content  -->
			   <header class="head-form">
				  <h2>TourneyExpress</h2>
				  <h2>Log In</h2>
				  <!--     A welcome message or an explanation of the login form -->
				  <p>login here using your username and password</p>
			   </header>
			   <!--     End  header Content  -->
			   <br>
			   <div class="field-set">
				 
				  <!--   user name -->
					 <span class="input-item">
					   <i class="fa fa-user-circle"></i>
					 </span>
					<!--   user name Input-->
					 <input class="form-input" id="txt-input" type="text" placeholder="@UserName" required>
				 
				  <br>
				 
					   <!--   Password -->
				 
				  <span class="input-item">
					<i class="fa fa-key"></i>
				   </span>
				  <!--   Password Input-->
				  <input class="form-input" type="password" placeholder="Password" id="pwd"  name="password" required>
				 
			<!--      Show/hide password  -->
				 <span>
					<i class="fa fa-eye" aria-hidden="true"  type="button" id="eye"></i>
				 </span>
				 
				 
				  <br>
			<!--        buttons -->
			<!--      button LogIn -->
				  <button class="log-in"> Log In </button>
			   </div>
			  
			<!--   other buttons -->
			   <div class="other">
			<!--      Forgot Password button-->
				  <button class="btn submits frgt-pass">Forgot Password</button>
			<!--     Sign Up button -->
				<button class="btn submits sign-up" id = "signup" >
					Sign Up 
				<i class="fa fa-user-plus" aria-hidden="true"></i>
				</button>
				  
			<!--      End Other the Division -->
			   </div>
				 
			<!--   End Conrainer  -->
			  </div>
			  
			  <!-- End Form -->
			</form>
			</div>
		<script>

			const $signup = document.querySelector("#signup")
			$signup.addEventListener('click', e => {
				location.href = "/signup";
			})

			const $login = document.querySelector('#login');

			async function login() {
				const username = document.querySelector('#username').value
					, password = document.querySelector('#password').value;
				
				userData = {username: username, password: password};

				console.log(userData);
				request = await fetch('/login', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json'
					},
					body: JSON.stringify(userData)
				})
				response = await request.json();
				if (response.msg == "success") {
					location.href = "/";
				}
				
				
			}
			$login.addEventListener('click', login);

			document.addEventListener('keypress', e => {
				if (e.key == "Enter") {
					login();
				}
			})
			
		</script>
	</body>
	
</html>


